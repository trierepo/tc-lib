angular.module("tcLib",["camera","ngDialog","ui.bootstrap"]),angular.module("tcLib").directive("bindHtmlCompile",["$compile",function(o){return{restrict:"A",link:function(t,n,e){t.$watch(function(){return t.$eval(e.bindHtmlCompile)},function(e){n.html(e),o(n.contents())(t)})}}}]),angular.module("tcLib").directive("tcCamera",["ngDialog",function(a){return{restrict:"A",require:"ngModel",scope:{onCapture:"&",confirmText:"@"},link:function(t,e,n,o){angular.element(e).bind("click",function(){t.capturePhoto()}),t.autoClose=!t.confirmText,t.setModel=function(e){t.tempModel=e},t.setConfirmed=function(e){t.confirmed=e},t.capturePhoto=function(){a.open({template:"src/camera/camera-modal.html",className:"ngdialog-theme-default ngdialog-lg",controller:"cameraModelCtrl",closeByDocument:!1,scope:t}).closePromise.then(function(){"function"==typeof t.onCapture&&(t.confirmed&&o.$setViewValue(t.tempModel),t.onCapture({$snap:t.tempModel}))})}}}}]),angular.module("tcLib").controller("cameraModelCtrl",["$scope","ngDialog",function(t,e){t.onCamCapture=function(e){t.setModel(e),t.autoClose&&t.confirm()},t.confirm=function(){t.setConfirmed(!0)},t.cancel=function(){t.setConfirmed(!1)}}]),angular.module("tcLib").directive("clickAndDisable",[function(){return{restrict:"A",scope:{clickAndDisable:"&"},link:function(e,t,n){t.bind("click",function(){e.clickAndDisable=e.clickAndDisable||$timeout(angular.noop,5e3),t.prop("disabled",!0),e.clickAndDisable().finally(function(){t.prop("disabled",!1)})})}}}]),angular.module("tcLib").directive("tcDatePicker",["$parse",function(r){return{restrict:"E",scope:{name:"@",options:"=?",placeholder:"@",model:"=ngModel"},templateUrl:"src/date-picker/date-picker.html",link:function(a,e,t){function n(e){var t=e.date;if("day"===e.mode)for(var n=new Date(t).setHours(0,0,0,0),o=0;o<(r("events.length")(a)||0);o++){if(n===new Date($scope.events[o].date).setHours(0,0,0,0))return $scope.events[o].status}return""}a.calendarPanel={opened:!1},a.openCalendar=function(){a.calendarPanel.opened=!0},a.$watch("options",function(e,t){a.dateOptions={formatYear:"yy",showWeeks:!1,customClass:n,minDate:r("options.minDate")(a)||null,maxDate:r("options.maxDate")(a)||new Date(2040,12,31),startingDay:1}})}}}]),angular.module("tcLib").directive("tcFileInput",[function(){return{restrict:"AE",require:"ngModel",scope:{ngModel:"="},link:function(e,n,o,a){n.on("change",function(e){var t=n[0].files;a.$setViewValue(null),o.multiple?a.$setViewValue(t.length?t:null):a.$setViewValue(t[0])})}}}]),angular.module("tcLib").filter("tcCamelCase",function(){return function(e){return(e=e||"").replace(/\w\S*/g,function(e){for(var t=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase(),n=0;n<t.length;n++)"."===t[n]&&(t=t.replace(t.charAt(n+1),function(e){return e.toUpperCase()}));return t})}}),angular.module("tcLib").run(["$templateCache",function(e){e.put("src/camera/camera-modal.html",'<div class="camera-wrapper row"><ng-camera capture-message="Done!" class="grid-md-5" countdown="3" output-height="240" output-width="320" viewer-height="315" viewer-width="420" image-format="jpeg" jpeg-quality="100" action-message="Take picture" snapshot="model" overlay-url="./assets/images/overlay.png" shutter-url="./assets/sounds/camera-click.mp3" on-capture="onCamCapture($snap)"></ng-camera><div class="preview-wrapper grid-md-5" ng-if="model"><img ng-src="{{model}}" alt="Click capture to see preview"><div class="grid-md-4 ngdialog-buttons"><button class="btn btn-md btn-green" ng-if="confirmText && model" ng-click="confirm();closeThisDialog(0)">{{confirmText}}</button> <button class="btn btn-md btn-grey" ng-if="confirmText" ng-click="cancel();closeThisDialog(0);">Cancel</button></div></div></div>'),e.put("src/date-picker/date-picker.html",'<input placeholder="{{placeholder}}" class="form-field grid-md-12" ng-attr-name="{{name}}" ng-model="model" uib-datepicker-popup is-open="calendarPanel.opened" datepicker-options="dateOptions" ng-required="{{required}}" close-text="Close"> <span class="form-field-icon"><button type="button" class="btn btn-sm btn-sky-blue" ng-click="openCalendar()"><i class="fa fa-calendar"></i></button></span>')}]),angular.module("tcLib").directive("whenScrolled",function(){return{restrict:"A",scope:{scrollerApi:"=?",whenScrolled:"&"},link:function(e,t,n){var o=0;raw=t[0],t.bind("scroll",function(){o<raw.scrollTop&&raw.scrollTop+raw.offsetHeight>=raw.scrollHeight&&(e.whenScrolled(),o=raw.scrollTop)}),e.scrollerApi={resetScroll:function(){o=0,raw.scrollTop=0}}}}});